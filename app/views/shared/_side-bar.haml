- case params.values_at :controller, :action


- when ['users', 'show']
  .side-bar
    .side-bar__user-avater
      .side-bar__user-avater_inner
        = image_tag @user.avater
    .side-bar__user-name
      = @user.name
      .space-y-sm2
    - if @user.id == current_user.id
      .side-bar_btn
        %a.dm-btn{href: new_product_path} 投稿
      .space-y-sm2
      .side-bar_other-info
        %a{href: user_rooms_path(current_user)} 受信BOX
      - if Campany.find_by(user_id: current_user.id).blank?
        .side-bar_other-info
          %a{href: edit_user_registration_path} 編集
      - else
        .side-bar_other-info
          %a{href: edit_campany_path} 会社編集
      .side-bar_other-info
        %a{href: products_user_path} 投稿一覧
      .side-bar_other-info
        %a= link_to 'アカウント削除', href="/users", method: :delete, data: { confirm: 'Are you sure?' }
    - else  #自分以外のユーザーのマイページに入った際のメニュー
      .side-bar_btn
        - if @is_room == true
          %a.dm-btn{href: user_room_path(user_id: current_user.id, id: @room_id)} チャットへ
        - else
          = form_for @room do |f|
            = fields_for @entry do |e|
              = e.hidden_field :user_id, value: @user.id
            = f.submit "メッセージを送る", class:"dm-btn"
      .side-bar_other-info
      .side-bar_other-info
        %a{href: products_user_path} 投稿一覧
    .space-y-sm2


- when ['users/registrations', 'edit']
  .side-bar
    .side-bar__user-avater
      .side-bar__user-avater_inner
        #side_avater
          = image_tag @user.avater
    .side-bar__user-name
      = @user.name
    - if @user.id == current_user.id
      .space-y-sm2
      .side-bar_btn
        %a.dm-btn{:onclick => "$('#avater').click()"} アイコン変更
    .space-y-sm2
    .side-bar_other-info
      %a{href: user_path(current_user.id)} マイページ
    .space-y-sm2


- when ['users', 'edit_campany']
  .side-bar
    .side-bar__user-avater
      .side-bar__user-avater_inner
        = image_tag @user.avater
    .side-bar__user-name
      = @user.name
    .space-y-sm2
    .side-bar_other-info
      %a{href: user_path(current_user.id)} マイページ
    .space-y-sm2


- when ['users', 'user_products_index']
  .side-bar
    .side-bar__user-avater
      .side-bar__user-avater_inner
        - if @user.id == current_user.id
          = image_tag current_user.avater
        - else
          = image_tag @user.avater
    .side-bar__user-name
      - if @user.id == current_user.id
        = current_user.name
      - else
        =@user.name
    .space-y-sm2
    - if @user.id == current_user.id
      .side-bar_btn
        %a.dm-btn{href: new_product_path} 投稿
      .side-bar_other-info
        %a{href: user_path(current_user.id)} マイページ
    .space-y-sm2


- when ['rooms', 'index']
  .side-bar
    .side-bar__user-avater
      .side-bar__user-avater_inner
        = image_tag @user.avater
    .side-bar__user-name
      = @user.name
      .space-y-sm2
    - if @user.id == current_user.id
      .side-bar_other-info
        %a{href: user_path(current_user.id)} マイページ
    - else  #自分以外のユーザーのマイページに入った際のメニュー
      .side-bar_btn
        - if @is_room == true
          %a.dm-btn{href: user_room_path(user_id: current_user.id, id: @room_id)} チャットへ
        - else
          = form_for @room do |f|
            = fields_for @entry do |e|
              = e.hidden_field :user_id, value: @user.id
            = f.submit "メッセージを送る", class:"dm-btn"
      .side-bar_other-info
      .side-bar_other-info
        %a{href: products_user_path} 投稿一覧
    .space-y-sm2


- when ['rooms', 'show']
  .side-bar
    .side-bar__user-avater
      .side-bar__user-avater_inner
        = image_tag @reception_user.avater
    .side-bar__user-name
      = @reception_user.name
    .side-bar_other-info
    .side-bar_other-info
      %a{href: products_user_path(params[:user_id])} 投稿一覧
    .space-y-sm2


- when ['products', 'new']
  .side-bar
    .side-bar__user-avater
      .side-bar__user-avater_inner
        = image_tag current_user.avater
    .side-bar__user-name
      = current_user.name
    .space-y-sm2
    .side-bar_other-info
      %a{href: user_path(current_user.id)} マイページ
    .space-y-sm2


-# - else
-#   .side-bar
-#     .side-bar__user-avater
-#       = image_tag @user.avater
-#     .side-bar__user-name
-#       = @user.name
-#       .space-y-sm2
-#     - if @user.id == current_user.id
-#       - unless params[:controller] == 'users' && params[:action] == 'show'
-#         .side-bar_other-info
-#           %a{href: user_path(current_user.id)} マイページ
-#       - unless params[:controller] == 'rooms' && params[:action] == 'index'
-#         .side-bar_other-info
-#           %a{href: user_rooms_path(current_user)} 受信BOX
-#       - if params[:controller] == 'users' && params[:action] == 'show'
-#         - if Campany.find_by(user_id: current_user.id).blank?
-#           .side-bar_other-info
-#             %a{href: edit_user_registration_path} 編集
-#         - else
-#           .side-bar_other-info
-#             %a{href: edit_campany_path} 会社編集
-#         .side-bar_other-info
-#           %a{href: products_user_path} 投稿一覧
-#         .side-bar_other-info
-#           %a= link_to 'アカウント削除', href="/users", method: :delete, data: { confirm: 'Are you sure?' }
-#     - else  #自分以外のユーザーのマイページに入った際のメニュー
-#       .side-bar_dm
-#         - if @is_room == true
-#           %a.dm-btn{href: user_room_path(user_id: current_user.id, id: @room_id)} チャットへ
-#         - else
-#           = form_for @room do |f|
-#             = fields_for @entry do |e|
-#               = e.hidden_field :user_id, value: @user.id
-#             = f.submit "メッセージを送る", class:"dm-btn"
-#       .side-bar_other-info
-#       .side-bar_other-info
-#         %a{href: products_user_path} 投稿一覧
-#     .space-y-sm2